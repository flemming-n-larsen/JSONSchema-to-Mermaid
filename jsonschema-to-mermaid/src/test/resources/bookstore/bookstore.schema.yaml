"$schema": http://json-schema.org/draft-07/schema#
title: Bookstore
type: object
properties:
  books:
    type: array
    items:
      "$ref": "#/definitions/Book"
  authors:
    type: array
    items:
      "$ref": "#/definitions/Author"
  genres:
    type: array
    items:
      type: string
      enum:
        - Fiction
        - Non-fiction
        - Science Fiction
        - Mystery
        - Biography
definitions:
  Book:
    type: object
    properties:
      title:
        type: string
      author:
        type: string
      publication_year:
        type: integer
        minimum: 0
      isbn:
        type: string
        pattern: "^(97([89]))?\\d{9}(\\d|X)$"
      genre:
        type: string
        "$ref": "#/definitions/Genre"
      price:
        type: number
        minimum: 0
    required:
      - title
      - author
      - publication_year
  Author:
    type: object
    properties:
      name:
        type: string
      country:
        type: string
      birth_year:
        type: integer
        minimum: 0
    required:
      - name
      - country
      - birth_year
  Genre:
    type: string
    enum:
      - Fiction
      - Non-fiction
      - Science Fiction
      - Mystery
      - Biography
required:
  - books
  - authors
  - genres
